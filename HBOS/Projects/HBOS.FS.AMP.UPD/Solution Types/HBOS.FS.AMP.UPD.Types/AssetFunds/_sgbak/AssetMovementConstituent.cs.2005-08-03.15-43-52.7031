using System;
using HBOS.FS.AMP.UPD.Types.BenchMark;

namespace HBOS.FS.AMP.UPD.Types.AssetFunds
{
	/// <summary>
	/// Summary description for AssetFundConstituent.
	/// </summary>
	public class AssetMovementConstituent
	{
		private readonly AssetFund parent;
		private  decimal proportion;
		private readonly IBenchMark benchMark;


		/// <summary>
		/// Gets the parent asset fund.
		/// </summary>
		/// <value></value>
		public AssetFund ParentAssetFund
		{
			get { return parent; }
		}

		/// <summary>
		/// Gets the proportion this benchmark is of the asset fund split.
		/// </summary>
		/// <value></value>
		public decimal Proportion
		{
			get { return proportion; }
			set { proportion=value; }
		}

		/// <summary>
		/// Gets the bench mark.
		/// </summary>
		/// <value></value>
		public IBenchMark BenchMark
		{
			get { return benchMark; }
		}


		/// <summary>
		/// Calculates the movement.
		/// </summary>
		/// <returns></returns>
		public decimal CalculateMovement()
		{
			throw new NotImplementedException();
			// Switch the sign of the currency rate movement to reflect the move from
			// the perspective of the local currency.
//			return  (this.Proportion * BenchMark.Movement) + (this.Proportion* (-1 * Currency.CalculateMovement(BenchMark.Currency,ParentAssetFund.Currency)));
		}

		/// <summary>
		/// Creates a new <see cref="AssetMovementConstituent"/> instance.
		/// </summary>
		/// <param name="parent">Parent.</param>
		/// <param name="proportion">Proportion.</param>
		/// <param name="benchMark">Bench mark.</param>
		public AssetMovementConstituent(AssetFund parent, decimal proportion, IBenchMark benchMark)
		{
			this.parent = parent;
			this.proportion = proportion;
			this.benchMark = benchMark;
		}
	}
}